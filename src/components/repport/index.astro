---

export const prerender = true;

import Chart from './chart.astro';
import Tabs from './tabs.astro';
import TabItem from './tab-item.astro';

import type { Year } from './data';

export interface Props   {
  year: Year
}
const { year = "2020" } = Astro.props;
const allDocs = await Astro.glob(`../../results/**/*.mdx`);
const docs = allDocs.filter((file) => file.file.includes(`${year}/sections`)).sort((a, b) => a.frontmatter.position - b.frontmatter.position);

const headings = docs.map((doc) => doc.getHeadings());
// console.log(headings);

---

<div class="prose
  prose-h1:font-bold prose-h1:text-xl
  prose-a:text-blue-600 prose-p:text-justify prose-img:rounded-xl
  prose-headings:underline">
  {
      docs.map((doc) => {
      return <div>{<doc.Content components={{Chart, TabItem, Tabs}} />}</div>;
    })
  }
</div>
